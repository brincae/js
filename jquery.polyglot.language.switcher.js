!function($){$.timer=function(func,time,autostart){return this.set=function(func,time,autostart){if(this.init=!0,"object"==typeof func){var paramList=["autostart","time"];for(var arg in paramList)void 0!=func[paramList[arg]]&&eval(paramList[arg]+" = func[paramList[arg]]");func=func.action}return"function"==typeof func&&(this.action=func),isNaN(time)||(this.intervalTime=time),autostart&&!this.active&&(this.active=!0,this.setTimer()),this},this.once=function(a){var b=this;return isNaN(a)&&(a=0),window.setTimeout(function(){b.action()},a),this},this.play=function(a){return this.active||(a?this.setTimer():this.setTimer(this.remaining),this.active=!0),this},this.pause=function(){return this.active&&(this.active=!1,this.remaining-=new Date-this.last,this.clearTimer()),this},this.stop=function(){return this.active=!1,this.remaining=this.intervalTime,this.clearTimer(),this},this.toggle=function(a){return this.active?this.pause():a?this.play(!0):this.play(),this},this.reset=function(){return this.active=!1,this.play(!0),this},this.clearTimer=function(){window.clearTimeout(this.timeoutObject)},this.setTimer=function(a){var b=this;"function"==typeof this.action&&(isNaN(a)&&(a=this.intervalTime),this.remaining=a,this.last=new Date,this.clearTimer(),this.timeoutObject=window.setTimeout(function(){b.go()},a))},this.go=function(){this.active&&(this.action(),this.setTimer())},this.init?new $.timer(func,time,autostart):(this.set(func,time,autostart),this)},$.fn.polyglotLanguageSwitcher=function(a){function m(a){j[a.name]&&j[a.name].call($(this),a)}function n(){h||(m({name:"beforeOpen",element:c,instance:b}),e.addClass("active"),r(!0),setTimeout(function(){h=!0,m({name:"afterOpen",element:c,instance:b})},100))}function o(){h&&(m({name:"beforeClose",element:c,instance:b}),r(!1),e.removeClass("active"),h=!1,k&&k.active&&k.clearTimer(),m({name:"afterClose",element:c,instance:b}))}function p(){k&&k.active&&k.pause()}function q(){k&&k.play(!1)}function r(a){"fade"==j.effect?a?f.fadeIn(j.animSpeed):f.fadeOut(j.animSpeed):a?f.slideDown(j.animSpeed):f.slideUp(j.animSpeed)}function s(a){o();var b=$(a).children(":first-child"),c=$(b).attr("id"),d=$(b).text();$(f).children().each(function(){$(this).detach()});for(var g=0;g<i.length;g++)$(i[g]).children(":first-child").attr("id")!=c&&f.append(i[g]);var h=e.children(":first-child");e.attr("id",c),e.text(d),e.append(h)}function t(){$(document).click(function(){o()}),$(document).keyup(function(a){27==a.which&&o()}),"hover"==j.openMode&&(k=$.timer(function(){o()}),k.set({time:j.hoverTimeout,autostart:!0}))}function u(){var a,b=$("#"+d+" > form > select > option");if(l){var h,k=window.location.href;b.each(function(){var a=$(this).attr("id");k.indexOf("/"+a+"/")>=0&&(h=a)})}b.each(function(){var c,b=$(this).attr("id");c=l?h===b:$(this).attr("selected");var d=v($(this));c&&(a=d),i.push(d),g>0?f.append(d):(e=$('<a id="'+$(this).attr("id")+'" class="current" href="#">'+$(this).text()+' <span class="trigger">&raquo;</span></a>'),"hover"==j.openMode?e.hover(function(){n(),p()},function(){q()}):e.click(function(){n()})),g++}),$("#"+d+" form:first-child").remove(),c.append(e),c.append(f),a&&s(a)}function v(a){var g,d=$(a).attr("id"),e=$(a).attr("value"),f=$(a).text();if(l){var h=window.location.href,i=h.substring(h.lastIndexOf("/")+1),k="http://"+document.domain+"/"+j.pagePrefix+d+"/"+i;g=$('<li><a id="'+d+'" href="'+k+'">'+f+"</a></li>")}else{var n=document.URL.replace("#",""),o=w();o[j.paramName]=e,n.indexOf("?")>0&&(n=n.substring(0,n.indexOf("?"))),n+=x(o),g=$('<li><a id="'+d+'" href="'+n+'">'+f+"</a></li>")}return g.bind("click",function(){m({name:"onChange",selectedItem:$(this).children(":first").attr("id"),element:c,instance:b}),s($(this))}),"hover"==j.openMode&&g.hover(function(){p()},function(){q()}),g}function w(){var a={},b=window.location.search.substr(1).split("&");if(b.length>0)for(var c=0;c<b.length;++c){var d=b[c].split("=");2==d.length&&(a[d[0]]=decodeURIComponent(d[1].replace(/\+/g," ")))}return a}function x(a){if(j.testMode)return"#";var b="?",c=0;for(var d in a){var e="";c>0&&(e="&"),b+=e+d+"="+a[d],c++}return b}var e,k,b=$.fn.polyglotLanguageSwitcher,c=$(this),d=$(this).attr("id"),f=$('<ul class="dropdown">'),g=0,h=!1,i=[],j=$.extend({},b.defaults,a),l="static"==j.websiteType;return u(),t(),b.open=function(){n()},b.close=function(){o()},m({name:"afterLoad",element:c,instance:b}),b};var ls=$.fn.polyglotLanguageSwitcher;ls.defaults={openMode:"click",hoverTimeout:1500,animSpeed:200,effect:"slide",paramName:"lang",pagePrefix:"",websiteType:"dynamic",testMode:!1,onChange:NaN,afterLoad:NaN,beforeOpen:NaN,afterOpen:NaN,beforeClose:NaN,afterClose:NaN}}(jQuery);